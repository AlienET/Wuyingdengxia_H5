<!DOCTYPE html>
<html lang="en">
 <head> 
  <meta charset="UTF-8" /> 
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <title>播放页</title> 
  <style type="text/css">
  	
  </style>
</head>
<body>
	<div id="app">
		<video width="100%" controls v-bind:src="VideoAddress[Vaddress]">
	        <source src="images/homepage-hero-video.mp4">
	        <source src="images/homepage-hero-video.webm">
	    </video>		
		<div class="pd10">
			<div class="v_tit">
				<!-- 视频标题 -->{{aboutData.replay_title}}
			</div>
			<div class="mt-xs">
				<p class="v_speaker" v-text='"主讲："+aboutData.maintalk'><!-- 主讲：刘教授 --></p>
				<div>
					<span class="v_num" v-html='"播放数 "+aboutData.playnum+" &nbsp; &bull; &nbsp; 获赞数 "+aboutData.suport_num'></span>
					<div class="fl-r">
						<img class="mr-sm" @click='praise' v-bind:src="PraiseIcon" height="20em">
						<img class="mr-sm" @click='collection' v-bind:src="CollectionIcon" height="20em">
						<img class="mr-sm" src="images/icon/fenxiang.png" height="20em">
					</div>
				</div>
			</div>
			<div class="v_row">
				<h4>精彩片段</h4>
				<div class="v_list"><!-- ::-webkit-scrollbar {display: none;} -->
					<div class="box-sizing v_item" :class="item.Vactive?'active':''" @click='VideoItem(item,index)'  v-for="(item,index) in VideoList">
						{{item.txt}}
					</div>
				</div>
			</div>
		</div>
		<div class="comment_list">
			<div class="comment_num">
				全部评论 324
			</div>
			<div class="item" v-for="(item,index) in VideoList">
				<a href="javascript:;">
					<img src="images/black.jpg">
				</a>
				<div class="item_xx">
					<div>
						<span class="item_name">Gallen Meklda</span>
						<div class="fl-r">
							<img class="report" src="images/icon/jubao.png">
							<img class="likes" @click='commentLike(item,index)' v-bind:src="CommentLikeIcon">
							<span class="likes_num">
								5
							</span>
						</div>
					</div>
					<div class="item_inner">
						我们卫生局不作为，职业证就发我们一张复印纸，该报考中级换证还要卡我们，要上点菜，才给换证，县级卫生局都是些喝茶看报没事干也不给换。
					</div>
					<div class="mt-sm">
						<span class="item_time">30分钟前 &nbsp; &bull; &nbsp;</span>
						<span class="item_hf">回复</span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="js/vue.min.js"></script>
	<!-- <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script> -->
	<script type="text/javascript" src="js/vue-resource.js"></script>
	<script type="text/javascript">
		var app = new Vue({
		  	el: '#app',
		  	data: {
		  		// 视频标题
		    	VideoTitle: '手术器械在手术室中的正确使用方法',
		    	// 视频主讲人
		    	VideoSpeaker:'刘教授',
		    	// 视频播放数
		    	PlaybackNumber:240,
		    	// 视频获赞数
		    	NumberPraise:24340,
		    	// 视频点赞
		    	Praise:true,
		    	// 点赞地址
		    	PraiseIcon:'images/icon/dadianzai.png',
		    	// 收藏
		    	Collection:false,
		    	// 收藏icon地址
		    	CollectionIcon:'images/icon/shoucang.png',
		    	// 评论用户点赞状态
		    	CommentLike:false,
		    	// 评论用户点赞icon
		    	CommentLikeIcon:'images/icon/dianzan.png',
		    	// 视频播放地址列表
		    	VideoAddress:[
		    		'images/homepage-hero-video.mp4',
		    		'images/qwer.mp4',
		    		'images/homepage-hero-video.mp4',
		    		'images/qwer.mp4',
		    		'images/homepage-hero-video.mp4'
		    	],
		    	// 视频列表
		    	VideoList:[
		   			{txt:'1手术剪的多种使用方法及在实际应用过程中的避免错误示范',Vactive:false},
		   			{txt:'2手术剪的多种使用方法及在实际应用过程中的避免错误示范',Vactive:false},
		   			{txt:'3手术剪的多种使用方法及在实际应用过程中的避免错误示范',Vactive:false},
		    		{txt:'4手术剪的多种使用方法及在实际应用过程中的避免错误示范',Vactive:false},
		    		{txt:'5手术剪的多种使用方法及在实际应用过程中的避免错误示范',Vactive:false}
		    	],
		    	// 视频地址 下标
		    	Vaddress:0,
		    	// -------------------------------------------------------------
		    	//回顾id
		    	replay_id:'6',
		    	// 详情数据列
		    	aboutData:[]
		    	


		  	},
		  	// 在 `methods` 对象中定义方法
			methods: {
				// 点赞
			    praise: function (event) {
			      if (this.Praise) {
			        this.PraiseIcon = 'images/icon/dadianzai.png'
			      }else{
			      	this.PraiseIcon = 'images/icon/dadianzan.png'
			      }
			      this.Praise = !this.Praise;
			    },
			    // 收藏
			    collection: function (event) {
			    	if (this.Collection) {
			    		this.CollectionIcon = 'images/icon/shoucang.png'
			    	}else{
			    		this.CollectionIcon = 'images/icon/yishoucang.png'
			    	}
			    	this.Collection = !this.Collection;
			    },
			    // 视频简介item
			    VideoItem:function (item,index) {
			    	for (var i = 0;i < this.VideoList.length;i++) {
			    		this.VideoList[i].Vactive = false;
			    	}
			    	item.Vactive = true;
			    	this.Vaddress = index;
			    	// console.log(this.VideoAddress[this.Vaddress]);

			    },
			    // 用户评论点赞
			    commentLike:function (item,index) {	
			    	console.log(item,index);
			    	if (this.CommentLike) {
				        this.CommentLikeIcon = 'images/icon/dianzan.png'
				    }else{
				      	this.CommentLikeIcon = 'images/icon/dadianzan.png'
				    }
				    this.CommentLike = !this.CommentLike;
			    },
			    // ----------------------------------------------------------
			    getRoute: function () {
		        var that = this; 
		        that.$http({           //get_hot_labelList_detail
		        	method: 'GET',
		         	url: 'http://39.106.2.216/index.php/API/get_allreplay_byid?replay_id='+this.replay_id //这里填写刚刚后台设置的接口
		        }).then(function(response){
		         	this.aboutData = response.data.data; // promise的then成功之后，将response返回的数据data，保存到aboutData数组里
		         	// var articleTags = this.aboutData.article_tags;
		         	// this.aboutData.article_tags = articleTags.split(',');
		         	// console.log(this.aboutData)
		        },function (error) {
		         	console.log(error);
		        })
	      	},
			},
			// 页面加载
			created:function(){
				// 点赞
				this.Praise==true?this.PraiseIcon='images/icon/dadianzan.png':this.PraiseIcon='images/icon/dadianzai.png',
				//收藏
				this.Collection==true?this.CollectionIcon='images/icon/yishoucang.png':this.CollectionIcon='images/icon/shoucang.png';
				// 讨论详情
	      		this.getRoute();
			},
			
			mounted:function (argument) {
				// 视频简介
				this.VideoList[0].Vactive = true;
				// console.log(this.Vaddress);
			}
		})
	</script>
</body>
</html>